package main

import (
	"bytes"
	"encoding/json"
	"fmt"
	"io"
	"net/http"
	"sync"
	"sync/atomic"
	"time"
)

type Limiter struct {
	// 用来存储信号量
	Signals chan time.Time
	// 每秒里最多的并发数
	MaxPerPeriod int
}

func NewLimiter(maxPerPeriod int) *Limiter {
	limiter := &Limiter{
		Signals:      make(chan time.Time, maxPerPeriod),
		MaxPerPeriod: maxPerPeriod,
	}
	go func() {
		for t := range time.Tick(time.Second) {
			for i := 0; i < maxPerPeriod; i++ {
				limiter.Signals <- t
			}
		}
	}()
	return limiter
}

func (l *Limiter) Allow() {
	<-l.Signals
}

func main() {
	//var body = "{\"code\":\"200\",\"message\":\"成功!\",\"result\":null}"
	//var resultBody map[string]interface{}
	//fmt.Println(string(body))
	//json.Unmarshal([]byte(body), &resultBody)
	//fmt.Println(resultBody)
	limiter := NewLimiter(40)
	totalNum := 40 * 60 * 60
	wait := sync.WaitGroup{}
	wait.Add(totalNum)
	requests := make(chan int, totalNum)
	for i := 0; i < totalNum; i++ {
		requests <- i
	}
	results := make(chan bool, totalNum)
	close(requests)
	var startTime = time.Now()
	for req := range requests {
		limiter.Allow()
		go requestFace(results, &wait)
		fmt.Println("burstyRequests", req, time.Now())
	}
	fmt.Println("发送请求总耗时：", time.Now().Sub(startTime))
	wait.Wait()
	fmt.Println("获取到结果的耗时为：", time.Now().Sub(startTime))
	close(results)
	var sum int32 = 0
	var failNum int32 = 0
	for resp := range results {
		if resp {
			atomic.AddInt32(&sum, 1)
		} else {
			atomic.AddInt32(&failNum, 1)
		}
	}
	fmt.Println("执行成功的次数为：", sum)
	fmt.Println("执行失败的次数为：", failNum)

}

func requestFace(result chan<- bool, wait *sync.WaitGroup) {
	defer wait.Done()
	m := make(map[string]string)
	m["imageBase64"] = "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"
	// "appNo":"APP1712826612792"
	m["appNo"] = "APP1712826612792"
	// 将数据转换为JSON格式的字节流
	jsonData, err := json.Marshal(m)
	if err != nil {
		fmt.Println(err)
		return
	}
	resp, err := http.Post("http://120.78.161.145:8061/h5/quality", "application/json", bytes.NewBuffer(jsonData))
	if err != nil {
		fmt.Println(err)
		return
	}
	body, err := io.ReadAll(resp.Body)
	if err != nil {
		fmt.Println(err)
		return
	}
	var resultBody map[string]interface{}
	fmt.Println(string(body))
	json.Unmarshal(body, &resultBody)
	fmt.Println(resultBody)
	if resultBody["code"] == "200" {
		result <- true
	} else {
		result <- false
	}
}
